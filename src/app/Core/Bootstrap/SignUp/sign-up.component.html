<app-navbar></app-navbar>
<div class="signup-container">
    <div class="form-container">
        <h2 class="form-title">Sign Up</h2>

        <form [formGroup]="form" class="form">
            <div class="formCol p-inputtext-lg form-inputs">
                <div class="formRow">
                    <span class="p-float-label">
                        <input
                            pInputText
                            formControlName="firstName"
                            id="signup-firstName"
                            class="form-field"
                            type="text"
                        />
                        <label for="float-input">First Name</label>
                    </span>
                    <span class="p-float-label">
                        <input
                            pInputText
                            formControlName="lastName"
                            id="signup-lastName"
                            class="form-field"
                            type="text"
                        />
                        <label for="float-input">Last Name</label>
                    </span>
                </div>
                <span class="p-float-label">
                    <input
                        pInputText
                        formControlName="email"
                        id="signup-email"
                        class="form-field"
                        type="email"
                    />
                    <label for="float-input">Email Address</label>
                </span>
                <div>
                    <span class="form-inputs-row p-float-label ">
                        <input
                            pInputText
                            formControlName="password"
                            id="signup-password"
                            class="form-field"
                            autocomplete="new-password"
                            [type]="passwordVisible ? 'text': 'password'"
                        />
                        <label for="float-input">Password</label>
                        <button
                            type="button"
                            class="form-inputsIcon fas fa-eye"
                            [ngClass]="{ 'form-inputsIcon--enabled': passwordVisible }"
                            (click)="toggleShowPassword()"
                        ></button>
                    </span>
                    @if (password.invalid && password.errors && (password.dirty || password.touched)) {
                    <div>
                        @if (password.hasError('pattern')) {
                        <span class="form-error">
                            Password must meet requirments
                        </span>
                        }
                        <div class="signup-requirments">
                            <span [ngClass]="{ 'signup-requirments-green': this.minEight}">• must contain at least 8 characters</span>
                            <span [ngClass]="{ 'signup-requirments-green': this.oneDigit}">• must contain a number</span>
                            <span [ngClass]="{ 'signup-requirments-green': this.oneSpecial}">• must contain a special character</span>
                            <span [ngClass]="{ 'signup-requirments-green': this.lowerCase}">• must contain a lowercase character</span>
                        </div>
                    </div>
                    }
                </div>
            </div>
            <p-button
                type="submit"
                class="p-button-raised"
                label="Sign Up"
                (onClick)="signUp()"
            ></p-button>
            <div class="signup-links">
                <a routerLink="/login">Already have an account? <b>Login</b></a>
            </div>
        </form>
    </div>
</div>
